<tool id="neutrons_fractal" name="fractals" version="0.2.0" python_template_version="3.5">
    <requirements>
        <container type="docker">code.ornl.gov:4567/ndip/tool-sources/playground/fractal:82f871fd</container>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        #import json
	    python3 /src/fractal.py --option $option &&
	    mv data.* $output
    ]]></command>
    <inputs>
        <param name="option" type="select" display="radio" label="Select Option">
            <option value="mandelbrot" selected="true">Mandelbrot Set</option>
            <option value="julia">Julia Set Animation</option>
            <option value="random">Random Walk</option>
			<option value="markus">Markus-Lyapunov Fractal</option>
        </param>
    </inputs>
    <outputs>
	<data auto_format="true" name="output" label="$option">
	</data>
    </outputs>
    <tests>
        <!-- Test case 1: Mandelbrot Set -->
      <!-- <test>
        <param name="option" value="markus"/>
          <output name="output" file="output.png">
                <assert_contents>
                    <has_size value="1589411"/>
                </assert_contents>
          </output>
      </test> -->
        <!-- <test>
        <param name="option" value="markus"/>
          <output name="output" file="output.png">
            <assert_contents file="expected_markus.png"/>
          </output>
      </test> -->
        <!-- Test case 3: Random Walk -->
      <test>
        <param name="option" value="random"/>
        <asserts>
          <assert type="dataset" name="output_file_created" status="okay">
            <!-- <metadata>
              <output_file name="output"/>
            </metadata> -->
          </assert>
        </asserts>
      </test>
  </tests>
</tool>